{"app":{"version":{"available":"1.0.1.201901061159#1","time":null,"linkUpdate":"https://play.google.com/store/apps/details?id=com.ttx.km247","requireUpdate":false,"message_note":"A new version of the application is available. Please update application! # A new version of the application is available and is required to continue. Please update application!","message":"A new version of the application is available. Please update application!"},"restartCount":20,"logOpenPage":true,"pushNotification":true,"desc":"","defaultAppId":"","hiddenSearch":"cat talk","tutorial-imgs":["https://drive.google.com/uc?id=1T21Pn16N_gmxWG_yxJYCF49_Qoyyk3V1","https://drive.google.com/uc?id=1ES7XDNJi169kXmeXBO26Si96glgr2fI8","https://drive.google.com/uc?id=1KOZWleuByzK9YHuBFkpY2IvI23Us6LLf","https://drive.google.com/uc?id=1eqmeRpyPFzWPsvUVH72as9Ts3KHqHanE","https://drive.google.com/uc?id=1p9gmwQRZk2j_c51K6cG-peDzKBNTH3ww","https://drive.google.com/uc?id=15FAu4m7MURihQKHCxY5tWONoksTyxzrZ","https://drive.google.com/uc?id=1_op1__3d4Xbm_nrYZze0mHMbQelGrUKe","https://drive.google.com/uc?id=1YnvC3VCLF8ISkg-dxUfUKL-TqH8nqsqV"],"empty-img":"https://drive.google.com/uc?id=1r7_IZNkI4ZQTSh1t1ioYusH3pNjHeamw","getStores":"function () {\n    fetch('https://magiamgia.com/')\n    .then(rp => rp.text())\n    .then(text => {\n\n        let listStoreHtml = text.match(/<ul[^<>]*\\\"coupon-category-grid\\\"[^<>]*>(<li[^<>]*>[^<>]*<a[^<>]*><\\/a><\\/li>)+<\\/ul>/g)[0];\n\n        let storeHtmlArray = listStoreHtml.match(/<li[^<>]*>[^<>]*<a[^<>]*><\\/a><\\/li>/g);\n\n        let cpnData = [];\n        for (let i = 0; i < storeHtmlArray.length; i++) {\n\n            let it = {\n                url: storeHtmlArray[i].replace(/.*<a[^<>]*href=\\\"([^<>\\\"]+)\\\".*/g, '$1'),\n                img: storeHtmlArray[i].replace(/.*url\\(([^<>\\\"\\(\\)]+)\\)\\\".*/g, '$1')\n            }\n            try {\n\n                let storeName = it.url.replace(/.*\\/([^\\/]+)\\/*$/g, '$1').replace(/-/g, ' ');\n                let d = new Date();\n                var newStoreName = '';\n                var storeNameArr = storeName.split(/\\s+/g);\n                for (let ii = 0; ii < storeNameArr.length; ii++) {\n                    newStoreName += (' ' + storeNameArr[ii].substring(0, 1).toLocaleUpperCase() + storeNameArr[ii].substring(1));\n                }\n\n                it.title = 'Mã giảm giá ' + newStoreName.trim() + ' tháng ' + (d.getMonth() + 1) + '/' + d.getFullYear();\n            } catch (error) {\n                console.info(error);\n            }\n            cpnData.push(it);\n        }\n\n        cb && cb(cpnData);\n    })\n    .catch(error => {\n        console.info(error);\n        cb && cb([]);\n    });\n}","getStoreDetail":"function () {\n\n    store = store || {};\n    if (!store.url) {\n        cb && cb([]);\n        return;\n    }\n    fetch(store.url)\n        .then(rp => rp.text())\n        .then(text => {\n            let texts = text.split('\\n');\n\n            let cpnData = [];\n            for (let i = 0; i < texts.length; i++) {\n                let t = texts[i];\n                if (!/^return false;.*/g.test(t)) {\n                    continue;\n                }\n                try {\n                    let it = {\n                        type: t.match(/class=\\\"type\\\">([^<>]+)<\\/span>/g)[0].replace(/class=\\\"type\\\">([^<>]+)<\\/span>/g, '$1').trim(),\n                        value: t.match(/class=\\\"value\\\">([^<>]+)<\\/span>/g)[0].replace(/class=\\\"value\\\">([^<>]+)<\\/span>/g, '$1').trim(),\n                        title: t.match(/<a[^<>]+class=\\\"hrefs title\\\"[^<>]*>(?:(<label[^<>]+class=\\\"btn-deal\\\">[^<>]*<\\/label>)*)([^<>]+)<\\/a>/g)[0]\n                                .replace(/<a[^<>]+class=\\\"hrefs title\\\"[^<>]*>(?:(<label[^<>]+class=\\\"btn-deal\\\">[^<>]*<\\/label>)*)([^<>]+)<\\/a>/g, '$2').trim(),\n                        endDate: t.match(/<div[^<>]+class=\\\"date-end\\\">(?:([^<>]*<span[^<>]*>[^<>]*<\\/span>)*([^<>]+)*)<\\/div>/g)[0]\n                                .replace(/<div[^<>]+class=\\\"date-end\\\">(?:([^<>]*<span[^<>]*>[^<>]*<\\/span>)*([^<>]+)*)<\\/div>/g, '$2').trim(),\n                        itemCode: t.match(/<input[^<>]+voucher-item-code[^<>]+value=\\\"([^<>]+)\\\"/g)[0].replace(/<input[^<>]+voucher-item-code[^<>]+value=\\\"([^<>]+)\\\"/g, '$1').trim(),\n                        cat: t.match(/<a[^<>]+rel=\\\"tag\\\">([^<>]+)<\\/a>/g)[0].replace(/<a[^<>]+rel=\\\"tag\\\">([^<>]+)<\\/a>/g, '$1').trim()\n                              .replace(/&{0,1}amp;/g, ''),\n                        note: t.match(/<div[^<>]+coupon-note[^<>]*>((<\\/*span[^<>]*>[^<>]*)|(<\\/*p[^<>]*>[^<>]*)|(<\\/*a[^<>]*>[^<>]*))+<\\/div>/g)[0]\n                            .replace(/((Lưu ý\\:)|(<\\/*div[^<>]*>)|(<\\/*span[^<>]*>)|(<\\/*p[^<>]*>)|(<a[^<>]*>[^<>]*<\\/a>))/g, '').replace(/((<a[^<>]*>[^<>]*<\\/a>))/g, '')\n                            .replace(/Xem chi tiết/g, '')\n                    }\n                    //if (!t.match(/<a[^<>]+class=\\\"hrefs title\\\"[^<>]*>(?:(<label[^<>]+class=\\\"btn-deal\\\">[^<>]*<\\/label>)*)([^<>]+)<\\/a>/g)) console.info(t);\n                    cpnData.push(it);\n                } catch (error) {\n                }\n\n            }\n\n            console.info(store.title);\n            cb && cb(cpnData, store.title);\n        })\n        .catch(error => {\n            console.info(error);\n            cb && cb([], store.title);\n        });\n}"},"ads":[{"network":"Google","status":"ready-","log":false,"ads_unit_id_test":"ca-app-pub-3940256099942544/2934735716","ads_unit_id":"ca-app-pub-3940256099942544/2934735716","desc":"AdsBanner_Home","preventEmulator":true,"preventIps":[],"preventUniqueIDs":[],"allowVersions":[],"index":0},{"network":"Google","status":"ready-","log":false,"ads_unit_id_test":"ca-app-pub-3940256099942544/2934735716","ads_unit_id":"ca-app-pub-3940256099942544/2934735716","desc":"AdsBanner_ListItem","preventEmulator":true,"preventIps":[],"preventUniqueIDs":[],"allowVersions":[],"index":1},{"network":"Google","status":"ready-","log":false,"logReal":true,"ads_unit_id_test":"ca-app-pub-3940256099942544/5135589807","ads_unit_id":"ca-app-pub-3940256099942544/5135589807","desc":"AdsInterstitial_ListItem","preventEmulator":true,"preventIps":[],"preventUniqueIDs":[],"allowVersions":[],"showByCount":[10,20,30,40,50,60,62,"STOP"],"index":2}],"fnExtractUrlDownload_DESC":"cach build fn --> JSON.stringify((function(){console.info('hello')}).toString())","dm_may_thang_cho":"dm","ip":"2402:800:6371:5fde:1c3:a15c:9a25:c81d"}